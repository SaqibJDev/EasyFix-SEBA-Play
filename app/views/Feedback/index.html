#{extends 'master.html' /} #{set title:'EasyFix - Feedback'/} #{set
menu_item:'menu_feedback' /} #{set moreScripts:'bootstrap.min.js' /}
<script type="text/javascript">
	$(document).ready(function(){
	    $(".tooltips button").tooltip({
	        placement : 'top'
	    });
		
	</script>
<!-- #{include 'breadcrumbs.html'/} -->
<!-- #{set moreScripts:'star-rating.min.js' /} -->
<div class="container">
	<p></p>
	<!-- Big Column #1 -->
	<div class="col-md-2"></div>
	<!-- Big Column #2 -->
	<div class="col-md-8">

		<div class="panel panel-default">
			<div class="panel-body">
				<center>
					<h3>Rate your technician</h3>
				</center>
				</br>
				<section id="payment">


					<center>
						<div class="progress"
							style='margin-left: 50px; margin-right: 50px;'>
							<div class="progress-bar" role="progressbar" aria-valuenow="33"
								aria-valuemin="0" aria-valuemax="100" style="width: 33%;">
								Step 1/3</div>
						</div>
					</center>
					<div class="col-md-1"></div>
					<div class="col-md-2">

						<h4>Technician:</h4>
						<h4>Repair:</h4>
						<h4>Cost:</h4>
						<h4>Time:</h4>
						<h4>Date:</h4>
					</div>

					<div class="col-md-3">

						<h6 style="font-size:14px">${technician.firstName} ${technician.lastName}</h6>
						<h6 style="font-size:14px">${repair.displayName}</h6>
						<h6 style="font-size:14px">${repair.price} &euro;</h6>
						<h6 style="font-size:14px">${appointment.getStartTime()} until
							${appointment.getEndTime()}</h6>
						<h6 style="font-size:14px">${appointment.getDate()}</h6>
					</div>

					<div class="col-md-6">


						<form class="form-horizontal" id="submit" action="/Feedback/submit"
							method="post">
							<input id="ratinginput" name="ratinginput" min="1" max="5" step="1" data-size="sm" value=""
								data-show-caption="false" data-show-clear="false" class=rating>
							<!-- hidden values from previous request -->
							<input type="number" name="customerid" id="customerid" value=${customerid} hidden="true">
							<input type="number" name="repairId" id="repairId" value=${repair.id} hidden="true">
								
							<div class="control-group">
								<label class="control-label" for="notes">Comment:</label>
								<div class="controls">
									<textarea id="notes" name="notes"></textarea>
								</div>
								<button type="submit" id="feedback" name="feedback"
									class="btn-sm btn-success">Submit your feedback</button>
								#{ifErrors}
								<!-- refreses page and displays error in case user pressed submit without rate technician -->
								#{errors}
								<div class="bg-danger" style="margin: auto; width: 50%;">${error}</div>
								#{/errors} #{/ifErrors}
						</form>
					</div>
			</div>
		</div>
		<div class="control-group"
			style='margin-left: 50px; margin-right: 50px'>
			<label class="control-label" for="back"></label>
			<div class="controls">
				<span>
					<a href="${'/'}"><button id="back" name="back" class="btn btn-primary">Back</button></a>
				</span> <span class="buttonright">	<a href="${'/Feedback/Payment'}"><button id="continuepayment"
								name="continue payment" data-toggle="tooltip"
								class="btn btn-primary">Continue to payment</button></a></span>

			</div>
			</section>

			</br>

			<!-- Button -->





		</div>


		<!-- 4 Info Columns -->

	</div>





	<!-- Big Column #3 -->
	<div class="col-md-2"></div>

</div>